before_script:
    - ls
    - pwd
    - cd ..
    - ls
    - mkdir -p /go/src/27thisotope.ddns.net/mibzman/
    - cp -r /builds/mibzman/CourseCorrect-Student /go/src/27thisotope.ddns.net/mibzman/
    - mkdir -p /go/bin
    - curl https://glide.sh/get | sh
    - cd /go/src/27thisotope.ddns.net/mibzman/CourseCorrect-Student
    - glide -v
    - glide install
#    - docker info

stages:
  - build
#  - test
  - deploy

services:
  - docker:dind

build-my-project:
  stage: build
  image: golang:1.7
  script:
    - go build

#test-my-project:
#  stage: test
#  script:
#    - go test

deploy-project:
  stage: deploy
  before_script:
    - ls
    # do nothing to override the global one
  script:
    - sudo docker info
    # - docker build -t coursecorrect .
    # - docker login -u AWS -p AQECAHj6lc4XIJw/7ln0Hc00DMek6GExHCbY4RIpTMCI58InUwAAAw                                                                                                                     0wggMJBgkqhkiG9w0BBwagggL6MIIC9gIBADCCAu8GCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQM5L                                                                                                                     qPfl7wxwIbg1CSAgEQgIICwHm4y7djbW2ExtX6GaAEYUH6rsJ+nJIzv71Th7jz0x3Z2mxR5JlcaZvnmT                                                                                                                     R81a3qUzmRi0pERveDRcnjYykEu/dW1q+HqODTt9SYhZksu4GWxFI2l12FuXaVf2O4xuyiJTpcIwdpDQ                                                                                                                     Iq5E6Vvm8rDYxpjNO0zQk9bHweRBATrp/OArShpapLP+k9wfLVo7THZ1aOUr8iG2+JtrhB4h9APJcdAE                                                                                                                     03gIHONGYMIH90NvQwtrdITY2X1k7rAqazxw8SeEXEM9HtvmZIPMaONOxBBuI5+bN7zqgzJnBc1JJ3LC                                                                                                                     GM25eU3t3LXYwZktMesReHbQVLgaRGMMicmtjeq+AZWZr+AgwZkEtW4j4D90V7t9Nur7Xc+x134/wB3O                                                                                                                     F/oB9J/RocEJ41AD1sopiyO4j71g1m0jIZTnH0se8kgIMT0Gjd/XiGxigLZGVS5y30jpeovD3jT3f4Gz                                                                                                                     U3bv1e6yEQYztGr8bx0IfsQVAzv0d4nlnasjp1nw9VFxVv9F9VEoxoFMoC0rZQlm4grtwD1IYjhegv9m                                                                                                                     r+M+PW2ZvIIxBEsOlv9FnqDp4Q2Hmijoy+yU/mMMXbBEop7thASADAsyyNeaa/J6APysjI+tybDJH6QF                                                                                                                     GKw83US+irqkFlncOPW39uCzYmaVz+lir4JPIpmlwAM4M9jQyi+h9tOvbct2Q4risz5vj2vGNJw7RNAc                                                                                                                     luW914Kfn/sVCyAh2wjXxhG14o8Q0gfU1PPVPItJiFLsKEcl884M5ioM/pKeQkFEtIjFLPkcPOjha3VQ                                                                                                                     gOwFOF0am8RQ0bDYC4sL1yQtUo9/KJVSJB2GPyjHx96QwXJH0nO7D/2BO0mpwY0yC4K2+pcFYzGlE9hb                                                                                                                     MviuwhhUCI5zB8wMK/k3ZgthAl7vSnFaTu/2B+b81zeKQuZ0+YCfA9/pLf+Q4jDVPzo9sN32AKVREOYV                                                                                                                     Le -e none https://038978466642.dkr.ecr.us-west-2.amazonaws.com
    # - docker tag coursecorrect:latest 038978466642.dkr.ecr.us-west-2.amazonaws.com/coursecorrect:latest
    # - docker push 038978466642.dkr.ecr.us-west-2.amazonaws.com/coursecorrect:latest
    #
